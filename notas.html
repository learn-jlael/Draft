<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloco de Notas</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <!-- Container principal -->
    <div class="container">
        <div class="notepad-container">
            <!-- Textarea invisível para entrada de texto -->
            <textarea 
                class="notepad" 
                placeholder="Comece a escrever suas notas aqui..." 
                id="notepad"
            ></textarea>
            <!-- Div visível com texto formatado -->
            <div class="formatted-content" id="formattedContent"></div>
        </div>
    </div>

    <!-- Indicador de salvamento automático -->
    <div class="save-indicator" id="saveIndicator">
        Salvo automaticamente
    </div>

    <!-- Botão de ajuda (apenas visual) -->
    <button class="help-button" id="helpButton" title="Ajuda">
        ?
    </button>

    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-analytics.js"></script>

    <script src="./js/main.js"></script>

    <script>
        const pagePath = decodeURIComponent(window.location.hash.slice(2));
        const pageTitle = document.getElementById('pageTitle');
        const textarea = document.getElementById('noteEditor');
        const ref = db.ref(pagePath);

        pageTitle.textContent = "Página: " + pagePath;

        // Carregar conteúdo existente
        ref.once("value", (snapshot) => {
        if (snapshot.exists()) {
            textarea.value = snapshot.val();
        }
        });

        // Salvar em tempo real
        textarea.addEventListener("input", () => {
        ref.set(textarea.value);
        });
  </script>
</body>
</html>